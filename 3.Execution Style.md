# Synchronous and Asynchronous
- JS is build to execute in synchronous fashion and v8 executes it synchronously but this blocks the main thread if there is some time taking process in between.
- In default js there is no function which blocks main thread.
- In nodejs there are functions like api calling which can block the main thread so nodejs do this anynchronously.
## How nodejs executes asynchronously
- V8 executes the code line by line synchronously and whenever it sees the function which can block the main thread (like api call, db connection, file reading, etc.) then it offloads the function to `libuv`.
- V8 executes all code and after executing when call stack gets empty those function which are done in libuv gets into the call stack and executes further.
> When async function comes and offloads to libuv it waits for the OS to get the response and OS do all the work like calling the api or file read and when that function gets the response it gets into the `callback queue` and event loop checks if the engine is free (or the callstack is empty) and when engine is free eventloop loads that function for the engine to execute in the call stack.